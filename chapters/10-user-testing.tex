\chapter{User testing}

User testing is divided into two parts. In the first part,
a selected group of testers is asked to help test and measure some properties
of the effect devices. In the second part, they are presented with the OpenHVR 
example application and asked on their opinion.


Even though the current pandemic situation made in-person testing a bit harder,
eight testers were willing to perform the tests, for which they are owed
a particular debt of gratitude.
The test was performed at the Faculty of Information Technology, using
the Oculus Rift VR headset with Oculus Touch tracked controllers.

% \begin{figure}[h]{}
% \centering\includegraphics[width=\textwidth]{assets/IMG_5238.jpeg}
% \caption{Prepared room with equipment for the user testing at FIT CTU}
% \end{figure}

\hypertarget{x-devices-property-measuring}{\section{Devices property measuring}}
Some testers were asked to help with measuring two properties of the fans used
for testing. The measurements will tell us how precisely the user can determine the
direction from where the wind is coming from and how long it takes until the
fan spins up and the user can feel the wind on his skin.


For the next two tests, the following conditions must be satisfied:


\begin{itemize}
    \itemsep0em

\item Tester was introduced to the VR and the headset and controller
he or she will be using.

\item There are no objects or people in the play space that might negatively affect
the test process.

\item The room must have all doors and windows closed, without running A/C
or other potential sources of winds.

\end{itemize}


The test requires testers to know how to interact with objects and how to move
inside the virtual world. The virtual room is scaled appropriately to the
real room where the VR experience takes place, so the tester can walk around
and avoid using alternative methods of moving within the virtual worlds
(such as teleport, which can be confusing for first-time VR users).


Each device is different and the properties depends on the power and quality of the fan.
As an example, a specific measuring tests were performed for one of the fans
used for testing purposes:

\begin{table}
    \centering
    \begin{tabular}{|p{0.18\textwidth}|p{0.24\textwidth}|}
        \hline
        \textbf{Type} & Pedestal fan \\ 
        \textbf{Manufacturer} & Sencor \\ 
        \textbf{Model} & SFN 4047WH \\ 
        \textbf{Rating} & AC 220-240 V, 50 Hz \\ 
        \textbf{Power} & 50 W \\ 
        \textbf{Loudness} & 50 dB \\ 
        \textbf{Fan radius} & 40 cm \\ 
        \textbf{Max. \mbox{airflow} volume} & $ 49 \frac{m^3}{min} $ \\ 
        \textbf{Max. \mbox{airflow} speed} & $ 2.9 \frac{m}{s} $ \\ 
        \hline
    \end{tabular}
    \quad
    \begin{tabular}{|p{0.18\textwidth}|p{0.24\textwidth}|}
        \hline
        \textbf{Type} & Infrared heater \\ 
        \textbf{Manufacturer} & Eliz \\
        \textbf{Model} & EHH 120 \\ 
        \textbf{Rating }& AC 230 V, 50 Hz \\ 
        \textbf{Power} & 400 / 800 / 1200 W \\ 
        \textbf{Loudness} & 50 dB \\ 
        \textbf{Weight} & 1,5 kg \\ 
        \textbf{Rated room max. volume} & $ 45 m^3 $ \\ 
        \hline
    \end{tabular}
    \caption{Technical properties of the used appliances}
    \label{}
\end{table}

The results of these measurements will serve as reference values for future
room setups. It is evident that for different devices, these measurements
would need to be retaken.


\hypertarget{x-fan-spin-up-time}{\subsection{Fan spin-up time}}
It takes a noticeable amount of time until the fans start spinning and
blow wind. It is necessary to delay the in-game effects by an offset that
will make the in-game visual or sound effect in sync with the effect
produced by the fan.
For this test, the mentioned fan was used, positioned straight in front of
testers, with 1.5 meters distance and 1.5 meters height level.


Testers were asked to follow the instructions on-screen: first press a button
when they are ready and press it again the exact moment they can feel a wind
blowing on their skin. The test program records the time between the presses.
Each tester collected four samples.

Throughout the testing, the VR headset blocks the tester’s view (an arbitrary
background image is shown in the view), and loud music plays, so the tester
cannot see and hear the fan spinning. After the tester first presses the button,
a random fan will start to spin, and stopwatch is started. After the second
press, stopwatch and fan will stop, and the tester will wait for a few seconds
to repeat the process for all positions.

\begin{figure}[H]
\centering
\begin{tabular}{|c|c|}
\hline
\textbf{Minimum} & 2432 ms \\ 
\textbf{Maximum} & 3953 ms \\ 
\textbf{Mean} & 2974.188 ms \\ 
\textbf{Std. deviation} & 420.202 ms \\ 
\textbf{Median} & 2865 ms \\ 
\hline
\end{tabular}
\caption{Measurements results of the fan spin-up time}
\end{figure}

There was a total of 16 samples collected. The complete measurements are included 
in Appendix A.1.

\begin{figure}[h]{}
\centering\includegraphics[width=\textwidth]{assets/IMG_5242.jpeg}
\caption{Tester performing the fan spin-up test}
\end{figure}

\hypertarget{x-fan-spread-range}{\subsection{Fan spread range}}
All fans are directional. The objective of this test is to assess
the optimal number of fans that would be necessary to build a full 360\degree\,
setup of fans surrounding the players. By analyzing the measurements,
we will try to determine, at what point the testers could not distinguish
between positions of the fans.


The fans are positioned at a distance of 1.5 meters from the tester.
Considering the tester is looking forward, the fans will
have four different positions:


\begin{itemize}
    \itemsep0em

\item \textbf{A:} Placed directly in front of the tester

\item \textbf{B:} Rotated 15\degree\,clockwise from the tester’s forward look

\item \textbf{C:} Rotated 45\degree\,clockwise from the tester’s forward look

\item \textbf{D:} Rotated 90\degree\,clockwise from the tester’s forward look

\end{itemize}

\pagebreak

The positions A--D are indicated in the following diagram:

\begin{figure}[H]{}
\centering\includegraphics[width=\textwidth]{assets/fans-positions.pdf}
\caption{Indication of fans positions}
\label{fanpos}
\end{figure}

The distribution of the positions is determined by the limited number of
available appliances. It tests the most interesting cases — 
90\degree\,between A and D is a large distance, and it is expected that testers
will be able to distinguish the difference without any problems.
On the other hand, the 15\degree\,between
A and B at the 1.5m distance will probably not be distinguishable.



The scenario is following: Testers are asked to wait until a fan start spinning
and then determine from where is the wind blowing. By pointing there with the
tracked VR controllers and pressing the button, they save their estimate.
While the tester is asked to determine the fan’s position, the VR headset
blocks his view and the test program will play loud music, so they
cannot locate the fan with hearing, or visually.

\pagebreak

After pressing the button, the test program will save the following information:

\begin{itemize}
    \itemsep0em
\item Three-dimensional direction vector oriented from controller position to
the current spinning fan location (reference input)
\item Three-dimensional direction vector representing the rotation of the
controller (tester’s input)
\item The magnitude of the difference between those two mentioned vectors
\end{itemize}

Testers were asked to measure the A position three times (without their knowledge),
so each tester collected following six samples for fan positions: A, B, A, C,
A, and D. This can verify the repeatability of successful
localization of the same fan at the same position.

Positions and directions of game objects in Unity Engine are represented as 
a three-dimensional vectors \( v \in \mathbb{R}^3 \). For each of the sample collection, 
the test program collects the following vectors:

\begin{enumerate}
\item{Normalized location difference between the current world position of the right
controller and location of the currently blowing fan:
\( l_{diff} = \frac{l_{fan} - l_{rctrl}}{|l_{fan} - l_{rctrl}|} \),
 The difference gives a direction vector from the controller to the fan.}
\item{Direction vector \( r_{rctrl} = (r_x, r_y, r_z) \) , derived from the current controller rotation.}
\end{enumerate}

For each pair of these two vectors, the magnitude of their difference is calculated
as \( d = | r_{rctrl} - l_{diff} | \).
Lower values represent greater tester’s precision (value \( 0 \) represents the 
perfect alignment).


Unfortunately, the results collected at the user testing sessions
\textbf{do not seem to bear the desired informational value}.
Apparently, there was an error in the execution of the test. It is suspected that
the tracking and real world’s mapping to the virtual world were done
incorrectly, and therefore the results do not give the correct answers to
questions that led to this test.

The correct determination of wind source height was not the primary
objective to test. Because testers were not correctly instructed on this matter,
after the test, some of them reported that they intentionally ignored the
height, and some of them tried to determine the height correctly.
To fix the measured data, the upward axis information from the vectors was
removed, and data are analyzed only on 2D-plane (view from top).
Conveniently this makes the data easier to visualize, but even this
processing was not able to fix the error in measured data.

It is not possible to draw any conclusion from this test. Theoretically, the
proposed method should be valid and correct execution should give the
desired answers. Unfortunately, the execution while user testing was not
correct. The test failed and must be performed again. 
\hyperref[appx:a]{Appendix A.2} contains the collected data.


\hypertarget{x-main-user-test}{\section{Main User Test}}
For the primary test, an example app was used, with four breakable windows
and three fireplaces. All 8 of the testers were participating
in this test. Chapter 8 describes the appearance of the room and the entities in it.

\hypertarget{x-scenario}{\subsection{Scenario}}
Testers will be asked to use the example application to interact with 
the virtual windows and virtual fireplaces.

There are conditions to meet, before the test starts:

\begin{itemize}
    \itemsep0em

\item Tester was introduced to the VR and controls of
the example app (e.g., how to pick objects, what buttons to use)

\item There are no objects or people in the play space that might negatively affect
the test process

\item The room must have all doors and windows closed, without running A/C
or other potential sources of winds

\end{itemize}


There will be four variants of interactable windows, and each of them will
behave differently; users will be asked to compare the differences between
them and overall evaluate relatively the quality of the effects and
immersion into the virtual world.


\begin{itemize}
    \itemsep0em

\item Window A — only visual effect of blowing wind

\item Window B — visual and sound effect of blowing wind

\item Window C — visual and sound effect of blowing wind + temperature change
indication by coloring the screen with blue color

\item Window D — visual and sound effect of blowing wind + OpenHVR external effect
using pedestal fan, simulating actual blowing wind from the position of
the window

\end{itemize}


After breaking all of the four windows, users will be instructed to evaluate
the effects and then asked to continue similarily with the fireplaces.


Three variants of the fireplaces will be similar to windows:


\begin{itemize}
    \itemsep0em

\item Fireplace E — visual and sound effect of burning fire

\item Fireplace F — visual and sound effect of burning fire + temperature change
indication by coloring the screen with orange color

\item Fireplace G — visual and sound effect of burning fire + OpenHVR
external effect using the infrared heater, simulating actual heat coming
out of burning fire’s position

\end{itemize}


After performing all the tasks, users will be asked to evaluate the
effects of burning fire and additional questions.


\hypertarget{x-questions}{\subsection{Questions}}
\begin{itemize}
    \itemsep0em

\item ``On a scale of 0-10 (0 worst, 10 best) evaluate the level of immersion and quality
of effects in the virtual environment when breaking the window, relatively
between the windows A/B/C/D.''

\item ``On a scale of 0-10 (0 worst, 10 best) evaluate the level of immersion and quality
of effects in the virtual environment when lighting up the fireplace, relatively
between the fireplaces E/F/G.''

\end{itemize}


\hypertarget{x-additional-questions}{\subsection{Additional questions}}
\begin{itemize}
    \itemsep0em

\item ``Did the wind effect at window D affect your comfort while using VR?''

\item ``Did the heat effect at fireplace G affect your comfort while using VR?''

\item ``Did the special effects (at D or G) negatively affect your experience
compared to effects without special effects (A-C, E, F)?''

\item ``Do you have any suggestions? What were you thinking about while performing
the test?''

\end{itemize}


\hypertarget{x-results}{\subsection{Results}}
All testers successfully performed the test. Some of them asked to
restart the test because they were not able to focus on correct objects,
forgotten the differences, or simply were not able to evaluate the
differences properly. Re-running of the test does not seem to affect the
test results negatively.


\begin{figure}[h]{}
\centering\includegraphics[width=\textwidth]{assets/IMG_5249.jpeg}
\caption{Tester in front of the lit fireplace (G) in the virtual world and infrared heater in the real world}

\end{figure}

The following table lists collected evauations on questions about immersion level and
quality of the effects.

\begin{figure}[h]
    \begin{center}
    \begin{tabular}{|l|c|c|c|c|c|c|c|}
    \hline
    \textbf{Tester} & \textbf{A} & \textbf{B} & \textbf{C} & \textbf{D} & \textbf{E} & \textbf{F} & \textbf{G} \\ 
    \hline
    Tester A & 2 & 5 & 10 & 7 & 3 & 6 & 10 \\ 
    Tester B & 0 & 0 & 4 & 8.5 & 0 & 4.5 & 9.5 \\ 
    Tester C & 0 & 2 & 5 & 8 & 2 & 5 & 9.5 \\ 
    Tester D & 0 & 5 & 5 & 10 & 5 & 5 & 10 \\ 
    Tester E & 1 & 2 & 2 & 7 & 1 & 1 & 6 \\ 
    Tester F & 1 & 3 & 3 & 6 & 3 & 3 & 6 \\ 
    Tester G & 2 & 4 & 5 & 8 & 4 & 4 & 9 \\ 
    Tester H & 0 & 3 & 4 & 9 & 2 & 4 & 10 \\ 
    \hline
    \end{tabular}
    \caption{Effect immersiveness evaluation answered by testers}
    \end{center}
\end{figure}

Apart from the numeric results, users were asked additional questions.
None of the users reported any negative effects while experiencing the special
effects.


\begin{figure}[h]{}
\centering\includegraphics[width=\textwidth]{assets/vlcsnap-2020-05-22-16h41m28s649.jpg}
\caption{Tester (on the right) standing in front of the window (D) in the virtual world}
\end{figure}

\pagebreak

Following is the list of relevant comments, that some testers reported
(translated from the Czech language):


\begin{itemize}
    \itemsep0em

\item ``I have noticed that the smoke was coming out of the walls, which
lowered the immersion for me.''

\item ``At window C, I thought I had felt a little wind,
that was not at all corresponding to what I saw.''

\item ``Because of the visual effect, I was expecting a much stronger wind
effect.''

\item ``I think the fan in the real world was at the wrong location from the
window in the virtual world.''

\item ``I saw the infrared heater before the beginning of the test, and I was
a little scared that I might get burned.''

\item ``I did not see any difference between B and C. I have just noticed that
some of them had glass shards and some not.''

\item ``I did not like the low graphical quality.''

\item ``The infrared heater positively surprised me.''

\item ``I felt like the sound was coming from different places than they actually
were at.''

\item ``The windows were much more interesting and entertaining, but the fireplace
was much more believable and immersive.''

\end{itemize}


Overall, users were satisfied with the experience. Some of the users reported
that they did not like the graphical appearance of the environment.
Unfortunately, most of the users were not able to distinguish the difference
between windows B and C, and fireplaces A and B. Almost everyone reported
difficulties with this specific matter.